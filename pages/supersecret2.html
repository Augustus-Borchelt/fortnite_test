<!DOCTYPE html>
<html>

<head> 
    <meta charset="UTF-8">
    <title>Business Inquiries Only</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.4.1/dist/css/bootstrap.min.css"
        integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">
    <link rel="stylesheet" href="/css/styles.css">
    <meta property="og:title" content=":3" />
    <meta property="og:type" content="website" />
    <meta property="og:url" content="https://jonkler67.gay/pages/supersecret2.html" />
    <meta property="og:image" content="https://static.wikia.nocookie.net/why-so-serious/images/3/35/Jonkler.png" />
    <meta property="og:site_name" content="jonkler67.gay" />
    <meta property="og:description" 
  content="Welcome to the FUN side >:3"/>
<meta property="og:determiner" content="the" />
    <style>
        .game-bg, .question-bg {
            background: #fff;
            border: 2px solid #000;
            border-radius: 10px;
            padding: 24px;
            margin-bottom: 28px;
            box-shadow: 2px 4px 12px rgba(0,0,0,0.06);
        }
        .question-bg {
            display: flex;
            flex-direction: column;
            align-items: center;
            width: 100%;
            max-width: 450px;
            margin: 32px auto 0 auto;
        }
        .game-bg {
            width: 100%;
            max-width: 600px;
            margin: 0 auto 30px auto;
        }
        @media (max-width: 600px) {
            .game-bg, .question-bg {
                padding: 10px;
                max-width: 100%;
            }
        }
    </style>
</head>

<body>
    <div class="rainbow-box title">
        <div class="title-element">
            <h1 class="title-text title-cell">You Made It To The BEST Side!!!</h1>
        </div>
        <div class="title-element">
            <button class="title-cell title-button" id="index">Homepage</button>
            <button class="title-cell title-button" id="physics-c">AP Physics C</button>
        </div>
    </div>
    <div id="age-gate" class="container my-5">
        <div class="question-bg">
            <h2>Placeholder (Press yes)</h2>
            <button class="btn btn-success mr-2" onclick="setAgeAndContinue(true)">Yes</button>
            <button class="btn btn-danger" onclick="setAgeAndContinue(false)">No</button>
        </div>
    </div>
    <div id="game-zone" class="container my-5" style="display:none;">
        <div class="game-bg">
            <div class="d-flex justify-content-between align-items-center mb-2">
                <h2>Choose a Game</h2>
                <div>
                    <span class="font-weight-bold">Currency: </span>
                    <span id="currency-display" class="badge badge-success" style="font-size:1.2em;">100</span>
                </div>
            </div>
            <div class="btn-group mb-4">
                <button class="btn btn-primary" onclick="showGame('holdem')">Texas Hold 'Em</button>
                <button class="btn btn-primary" onclick="showGame('mines')">Mines</button>
                <button class="btn btn-primary" onclick="showGame('blackjack')">Blackjack</button>
                <button class="btn btn-primary" onclick="showGame('roulette')">Roulette</button>
                <button class="btn btn-primary" onclick="showGame('slots')">Slots</button>
            </div>
            <div id="game-content" class="mt-4"></div>
        </div>
    </div>
    <div id="underage-message" class="container my-5" style="display:none;">
        <div class="question-bg">
            <h3>no</h3>
        </div>
    </div>
</body>
<script src="/js/navButton.js"></script>
<script>
    // This variable should be set by the server and can be accessed from here.
    var playtime = 35; // minutes, to be overwritten by server as needed

    // Client side currency - for demo, starts at 100
    var clientCurrency = 100;

    function updateCurrency(amount) {
        clientCurrency += amount;
        if (clientCurrency < 0) clientCurrency = 0;
        document.getElementById('currency-display').textContent = clientCurrency;
    }

    function setCurrency(amount) {
        clientCurrency = amount;
        if (clientCurrency < 0) clientCurrency = 0;
        document.getElementById('currency-display').textContent = clientCurrency;
    }

    function getFavorableChance() {
        // If playtime > 30, only 30% chance of a favorable outcome
        return playtime > 30 ? 0.3 : 0.5;
    }

    let isOver18 = null;

    function setAgeAndContinue(over18) {
        isOver18 = over18;
        document.getElementById('age-gate').style.display = 'none';
        if (over18) {
            document.getElementById('game-zone').style.display = '';
            setCurrency(100); // reset on entry for demo
        } else {
            document.getElementById('underage-message').style.display = '';
        }
    }

    function showGame(game) {
        const div = document.getElementById('game-content');
        let inner = '';
        if (game === 'holdem') {
            inner = `
                <div class="game-bg">
                    <h3>Texas Hold 'Em (Single Hand Demo)</h3>
                    <div>
                        <span>Bet: </span>
                        <input id="holdem-bet" type="number" min="1" max="${clientCurrency}" value="10" style="width:70px;">
                    </div>
                    <p>Player Hand: <span id="holdem-player"></span></p>
                    <p>Dealer Hand: <span id="holdem-dealer"></span></p>
                    <p>Community Cards: <span id="holdem-community"></span></p>
                    <button class="btn btn-success" onclick="dealHoldem()">Deal</button>
                    <p id="holdem-result"></p>
                </div>
            `;
        } else if (game === 'mines') {
            inner = `
                <div class="game-bg">
                    <h3>Mines (Click to Reveal, Avoid the Mine)</h3>
                    <div>
                        <span>Bet: </span>
                        <input id="mines-bet" type="number" min="1" max="${clientCurrency}" value="10" style="width:70px;">
                        <button class="btn btn-success btn-sm" onclick="setupMines()">Start</button>
                    </div>
                    <div id="mines-board" style="display: flex; gap: 8px; margin-top:10px;"></div>
                    <button class="btn btn-secondary mt-2" onclick="setupMines()" style="display:none;" id="mines-restart">Restart</button>
                    <p id="mines-message"></p>
                </div>
            `;
        } else if (game === 'blackjack') {
            inner = `
                <div class="game-bg">
                    <h3>Blackjack</h3>
                    <div>
                        <span>Bet: </span>
                        <input id="bj-bet" type="number" min="1" max="${clientCurrency}" value="10" style="width:70px;">
                        <button class="btn btn-success btn-sm" onclick="bjDeal()">Deal</button>
                    </div>
                    <div>Player: <span id="bj-player"></span> (<span id="bj-player-sum"></span>)</div>
                    <div>Dealer: <span id="bj-dealer"></span> (<span id="bj-dealer-sum"></span>)</div>
                    <button class="btn btn-success" onclick="bjHit()">Hit</button>
                    <button class="btn btn-primary" onclick="bjStand()">Stand</button>
                    <button class="btn btn-secondary" onclick="bjDeal()">Restart</button>
                    <p id="bj-message"></p>
                </div>
            `;
        } else if (game === 'roulette') {
            inner = `
                <div class="game-bg">
                    <h3>Roulette</h3>
                    <div>
                        <span>Bet: </span>
                        <input id="roulette-bet" type="number" min="1" max="${clientCurrency}" value="10" style="width:70px;">
                        <span>Pick a number (0-36): <input id="roulette-pick" type="number" min="0" max="36" style="width:60px;" value="17"></span>
                        <button class="btn btn-success btn-sm" onclick="spinRoulette()">Spin</button>
                    </div>
                    <p id="roulette-result"></p>
                </div>
            `;
        } else if (game === 'slots') {
            inner = `
                <div class="game-bg">
                    <h3>Slots</h3>
                    <div>
                        <span>Bet: </span>
                        <input id="slots-bet" type="number" min="1" max="${clientCurrency}" value="10" style="width:70px;">
                        <button class="btn btn-success btn-sm" onclick="spinSlots()">Spin</button>
                    </div>
                    <div id="slots-result" style="font-size:2em">- - -</div>
                    <p id="slots-message"></p>
                </div>
            `;
        }
        div.innerHTML = inner;
    }

    // Texas Hold 'Em (skew: player gets a strong hand at favorable odds)
    function dealHoldem() {
        let bet = parseInt(document.getElementById('holdem-bet').value, 10);
        if (isNaN(bet) || bet < 1 || bet > clientCurrency) {
            document.getElementById('holdem-result').textContent = "Invalid bet!";
            return;
        }
        updateCurrency(-bet);

        function randCard() {
            const vals = ['2','3','4','5','6','7','8','9','10','J','Q','K','A'];
            const suits = ['♠','♥','♦','♣'];
            return vals[Math.floor(Math.random()*vals.length)] + suits[Math.floor(Math.random()*suits.length)];
        }
        let favorable = Math.random() < getFavorableChance();
        let player, dealer, outcome;
        if (favorable) {
            player = ['A♠', 'A♥'];
            dealer = [randCard(), randCard()];
            outcome = "You win!";
            updateCurrency(bet * 2);
        } else {
            player = [randCard(), randCard()];
            dealer = ['A♠', 'A♥'];
            outcome = "Dealer wins!";
        }
        let community = [randCard(), randCard(), randCard(), randCard(), randCard()];
        document.getElementById('holdem-player').textContent = player.join(', ');
        document.getElementById('holdem-dealer').textContent = dealer.join(', ');
        document.getElementById('holdem-community').textContent = community.join(', ');
        document.getElementById('holdem-result').textContent = outcome;
    }

    // Mines (skew: favorable means mine is at a predictable safe location)
    let minesMineIndex = null, minesRevealed = [], minesBet = 0, minesActive = false;
    function setupMines() {
        let betInput = document.getElementById('mines-bet');
        if (!betInput) return; // not started yet
        let bet = parseInt(betInput.value, 10);
        if (isNaN(bet) || bet < 1 || bet > clientCurrency) {
            document.getElementById('mines-message').textContent = "Invalid bet!";
            return;
        }
        updateCurrency(-bet);
        minesBet = bet;
        minesActive = true;

        const board = document.getElementById('mines-board');
        board.innerHTML = '';
        let favorable = Math.random() < getFavorableChance();
        if (favorable) {
            minesMineIndex = 5; // Always put mine at last spot
        } else {
            minesMineIndex = Math.floor(Math.random()*6);
        }
        minesRevealed = Array(6).fill(false);
        document.getElementById('mines-message').textContent = '';
        document.getElementById('mines-restart').style.display = 'none';
        for(let i=0;i<6;i++) {
            let btn = document.createElement('button');
            btn.className = 'btn btn-secondary';
            btn.textContent = '?';
            btn.onclick = function() {
                if (!minesActive || minesRevealed[i]) return;
                minesRevealed[i] = true;
                if (i === minesMineIndex) {
                    btn.textContent = '💣';
                    btn.className = 'btn btn-danger';
                    document.getElementById('mines-message').textContent = 'Boom! You hit the mine. Lost your bet.';
                    minesActive = false;
                    document.getElementById('mines-restart').style.display = '';
                } else {
                    btn.textContent = '✅';
                    btn.className = 'btn btn-success';
                    if (minesRevealed.filter(Boolean).length === 5) {
                        document.getElementById('mines-message').textContent = 'You win! Dodged the mine and double your bet!';
                        updateCurrency(minesBet * 2);
                        minesActive = false;
                        document.getElementById('mines-restart').style.display = '';
                    }
                }
            };
            board.appendChild(btn);
        }
    }

    // Blackjack (skew: favorable odds = dealer busts more often)
    let bjDeck, bjPlayer, bjDealer, bjPlayerSum, bjDealerSum, bjPlayerDone, bjBet = 0;
    function bjDeal() {
        let betInput = document.getElementById('bj-bet');
        if (betInput) {
            let bet = parseInt(betInput.value, 10);
            if (isNaN(bet) || bet < 1 || bet > clientCurrency) {
                document.getElementById('bj-message').textContent = "Invalid bet!";
                return;
            }
            bjBet = bet;
            updateCurrency(-bet);
        }
        bjDeck = [];
        const vals = ['2','3','4','5','6','7','8','9','10','J','Q','K','A'];
        const suits = ['♠','♥','♦','♣'];
        for (let v of vals) for (let s of suits) bjDeck.push({v,s});
        bjDeck = bjDeck.sort(()=>Math.random()-0.5);
        bjPlayer = [bjDeck.pop(), bjDeck.pop()];
        bjDealer = [bjDeck.pop(), bjDeck.pop()];
        bjPlayerDone = false;
        updateBJ();
        document.getElementById('bj-message').textContent = '';
    }
    function bjValue(hand) {
        let v = 0, aces = 0;
        for (let c of hand) {
            if (c.v === 'A') { v += 11; aces++; }
            else if (['K','Q','J'].includes(c.v)) v += 10;
            else v += +c.v;
        }
        while (v > 21 && aces > 0) { v -= 10; aces--; }
        return v;
    }
    function updateBJ() {
        document.getElementById('bj-player').textContent = bjPlayer.map(c=>c.v+c.s).join(', ');
        document.getElementById('bj-player-sum').textContent = bjValue(bjPlayer);
        document.getElementById('bj-dealer').textContent = bjPlayerDone
            ? bjDealer.map(c=>c.v+c.s).join(', ')
            : bjDealer[0].v+bjDealer[0].s+', ?';
        document.getElementById('bj-dealer-sum').textContent = bjPlayerDone
            ? bjValue(bjDealer)
            : '?';
    }
    function bjHit() {
        if (bjPlayerDone || bjBet === 0) return;
        bjPlayer.push(bjDeck.pop());
        updateBJ();
        let val = bjValue(bjPlayer);
        if (val > 21) {
            document.getElementById('bj-message').textContent = 'Bust! You lose your bet.';
            bjPlayerDone = true;
            updateBJ();
        }
    }
    function bjStand() {
        if (bjPlayerDone || bjBet === 0) return;
        bjPlayerDone = true;
        let favorable = Math.random() < getFavorableChance();
        if (favorable) {
            // Dealer will bust by drawing until over 21
            while (bjValue(bjDealer) <= 21) {
                bjDealer.push({v:'K',s:'♠'}); // high chance to bust
            }
        } else {
            while (bjValue(bjDealer) < 17) bjDealer.push(bjDeck.pop());
        }
        let playerVal = bjValue(bjPlayer), dealerVal = bjValue(bjDealer);
        let msg = '';
        if (dealerVal > 21) {
            msg = 'Dealer busts, you win! Double your bet!';
            updateCurrency(bjBet * 2);
        }
        else if (playerVal > dealerVal) {
            msg = 'You win! Double your bet!';
            updateCurrency(bjBet * 2);
        }
        else if (playerVal < dealerVal) {
            msg = 'Dealer wins! Lost your bet.';
        }
        else {
            msg = 'Push! Bet returned.';
            updateCurrency(bjBet);
        }
        document.getElementById('bj-message').textContent = msg;
        updateBJ();
    }

    // Roulette (skew: favorable = player wins if random chance passes)
    function spinRoulette() {
        let bet = parseInt(document.getElementById('roulette-bet').value, 10);
        let pick = parseInt(document.getElementById('roulette-pick').value, 10);
        if (isNaN(bet) || bet < 1 || bet > clientCurrency || isNaN(pick) || pick < 0 || pick > 36) {
            document.getElementById('roulette-result').textContent = "Invalid bet or pick!";
            return;
        }
        updateCurrency(-bet);
        let favorable = Math.random() < getFavorableChance();
        let result;
        if (favorable) {
            result = pick;
            updateCurrency(bet * 35); // 35:1 payout
        } else {
            do {
                result = Math.floor(Math.random() * 37);
            } while (result === pick);
        }
        document.getElementById('roulette-result').textContent =
            `Ball landed on ${result}. ${pick === result ? "You win " + (bet*35) + "!" : "You lose your bet."}`;
    }

    // Slots (skew: favorable = jackpot much more likely)
    function spinSlots() {
        let bet = parseInt(document.getElementById('slots-bet').value, 10);
        if (isNaN(bet) || bet < 1 || bet > clientCurrency) {
            document.getElementById('slots-message').textContent = "Invalid bet!";
            return;
        }
        updateCurrency(-bet);
        const icons = ['🍒','🍋','7️⃣','🍉','⭐','🔔'];
        let favorable = Math.random() < getFavorableChance();
        let vals;
        let payout = 0;
        if (favorable) {
            let i = Math.floor(Math.random()*icons.length);
            vals = [icons[i], icons[i], icons[i]];
            payout = bet * 20;
        } else {
            // Avoid jackpot
            let i1 = Math.floor(Math.random()*icons.length);
            let i2 = (i1 + 1 + Math.floor(Math.random()*(icons.length-1))) % icons.length;
            let i3 = (i1 + 2 + Math.floor(Math.random()*(icons.length-2))) % icons.length;
            vals = [icons[i1], icons[i2], icons[i3]];
            if (vals[0] === vals[1] || vals[1] === vals[2] || vals[0] === vals[2]) payout = bet * 2;
        }
        document.getElementById('slots-result').textContent = vals.join(' ');
        let msg = '';
        if (vals[0] === vals[1] && vals[1] === vals[2]) {
            msg = 'Jackpot! You win ' + payout + '!';
            updateCurrency(payout);
        }
        else if (payout > 0) {
            msg = 'Two of a kind! You win ' + payout + '!';
            updateCurrency(payout);
        }
        else msg = 'Try again! Lost your bet.';
        document.getElementById('slots-message').textContent = msg;
    }
</script>
</html>
